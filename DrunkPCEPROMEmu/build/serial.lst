ARM GAS  /var/folders/3_/bwhprqbs4159v4wd5z0pb2nr0000gn/T//ccy8faE1.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"serial.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.DrunkSerialWrite,"ax",%progbits
  20              		.align	1
  21              		.global	DrunkSerialWrite
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	DrunkSerialWrite:
  27              	.LVL0:
  28              	.LFB134:
  29              		.file 1 "src/serial.c"
   1:src/serial.c  **** #include "stm32f4xx_hal.h"
   2:src/serial.c  **** #include "usbd_cdc_if.h"
   3:src/serial.c  **** 
   4:src/serial.c  **** void DrunkSerialWrite(uint8_t *buf, uint16_t len)
   5:src/serial.c  **** {
  30              		.loc 1 5 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 5 1 is_stmt 0 view .LVU1
  35 0000 38B5     		push	{r3, r4, r5, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 16
  38              		.cfi_offset 3, -16
  39              		.cfi_offset 4, -12
  40              		.cfi_offset 5, -8
  41              		.cfi_offset 14, -4
  42 0002 0546     		mov	r5, r0
  43 0004 0C46     		mov	r4, r1
   6:src/serial.c  ****     while (CDC_Transmit_FS(buf, len) == USBD_BUSY)
  44              		.loc 1 6 5 is_stmt 1 view .LVU2
  45              	.LVL1:
  46              	.L2:
  47              		.loc 1 6 38 discriminator 1 view .LVU3
  48              		.loc 1 6 12 is_stmt 0 discriminator 1 view .LVU4
  49 0006 2146     		mov	r1, r4
  50 0008 2846     		mov	r0, r5
  51 000a FFF7FEFF 		bl	CDC_Transmit_FS
  52              	.LVL2:
ARM GAS  /var/folders/3_/bwhprqbs4159v4wd5z0pb2nr0000gn/T//ccy8faE1.s 			page 2


  53              		.loc 1 6 38 discriminator 1 view .LVU5
  54 000e 0128     		cmp	r0, #1
  55 0010 F9D0     		beq	.L2
   7:src/serial.c  ****         ;;
   8:src/serial.c  **** }
  56              		.loc 1 8 1 view .LVU6
  57 0012 38BD     		pop	{r3, r4, r5, pc}
  58              		.loc 1 8 1 view .LVU7
  59              		.cfi_endproc
  60              	.LFE134:
  62              		.section	.text.DrunkSerialInterrupt,"ax",%progbits
  63              		.align	1
  64              		.global	DrunkSerialInterrupt
  65              		.syntax unified
  66              		.thumb
  67              		.thumb_func
  69              	DrunkSerialInterrupt:
  70              	.LFB135:
   9:src/serial.c  **** 
  10:src/serial.c  **** void DrunkSerialInterrupt(void)
  11:src/serial.c  **** {
  71              		.loc 1 11 1 is_stmt 1 view -0
  72              		.cfi_startproc
  73              		@ args = 0, pretend = 0, frame = 0
  74              		@ frame_needed = 0, uses_anonymous_args = 0
  75              		@ link register save eliminated.
  12:src/serial.c  ****     GPIOC->ODR = 0;
  76              		.loc 1 12 5 view .LVU9
  77              		.loc 1 12 16 is_stmt 0 view .LVU10
  78 0000 014B     		ldr	r3, .L5
  79 0002 0022     		movs	r2, #0
  80 0004 5A61     		str	r2, [r3, #20]
  13:src/serial.c  ****     return;
  81              		.loc 1 13 5 is_stmt 1 view .LVU11
  14:src/serial.c  **** }
  82              		.loc 1 14 1 is_stmt 0 view .LVU12
  83 0006 7047     		bx	lr
  84              	.L6:
  85              		.align	2
  86              	.L5:
  87 0008 00080240 		.word	1073874944
  88              		.cfi_endproc
  89              	.LFE135:
  91              		.section	.text.DrunkSerialRead,"ax",%progbits
  92              		.align	1
  93              		.global	DrunkSerialRead
  94              		.syntax unified
  95              		.thumb
  96              		.thumb_func
  98              	DrunkSerialRead:
  99              	.LVL3:
 100              	.LFB136:
  15:src/serial.c  **** 
  16:src/serial.c  **** void DrunkSerialRead(uint8_t *buf, uint32_t len)
  17:src/serial.c  **** {
 101              		.loc 1 17 1 is_stmt 1 view -0
 102              		.cfi_startproc
ARM GAS  /var/folders/3_/bwhprqbs4159v4wd5z0pb2nr0000gn/T//ccy8faE1.s 			page 3


 103              		@ args = 0, pretend = 0, frame = 0
 104              		@ frame_needed = 0, uses_anonymous_args = 0
 105              		.loc 1 17 1 is_stmt 0 view .LVU14
 106 0000 08B5     		push	{r3, lr}
 107              	.LCFI1:
 108              		.cfi_def_cfa_offset 8
 109              		.cfi_offset 3, -8
 110              		.cfi_offset 14, -4
  18:src/serial.c  ****     DrunkSerialWrite(buf, len);
 111              		.loc 1 18 5 is_stmt 1 view .LVU15
 112 0002 89B2     		uxth	r1, r1
 113              	.LVL4:
 114              		.loc 1 18 5 is_stmt 0 view .LVU16
 115 0004 FFF7FEFF 		bl	DrunkSerialWrite
 116              	.LVL5:
  19:src/serial.c  ****     GPIOC->ODR = 0xFFFF;
 117              		.loc 1 19 5 is_stmt 1 view .LVU17
 118              		.loc 1 19 16 is_stmt 0 view .LVU18
 119 0008 024B     		ldr	r3, .L9
 120 000a 4FF6FF72 		movw	r2, #65535
 121 000e 5A61     		str	r2, [r3, #20]
  20:src/serial.c  ****     return;
 122              		.loc 1 20 5 is_stmt 1 view .LVU19
  21:src/serial.c  **** }
 123              		.loc 1 21 1 is_stmt 0 view .LVU20
 124 0010 08BD     		pop	{r3, pc}
 125              	.L10:
 126 0012 00BF     		.align	2
 127              	.L9:
 128 0014 00080240 		.word	1073874944
 129              		.cfi_endproc
 130              	.LFE136:
 132              		.text
 133              	.Letext0:
 134              		.file 2 "/Applications/ARM/arm-none-eabi/include/machine/_default_types.h"
 135              		.file 3 "/Applications/ARM/arm-none-eabi/include/sys/_stdint.h"
 136              		.file 4 "stm32/Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f401xc.h"
 137              		.file 5 "stm32/Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h"
 138              		.file 6 "stm32/USB_DEVICE/App/usbd_cdc_if.h"
ARM GAS  /var/folders/3_/bwhprqbs4159v4wd5z0pb2nr0000gn/T//ccy8faE1.s 			page 4


DEFINED SYMBOLS
                            *ABS*:0000000000000000 serial.c
/var/folders/3_/bwhprqbs4159v4wd5z0pb2nr0000gn/T//ccy8faE1.s:20     .text.DrunkSerialWrite:0000000000000000 $t
/var/folders/3_/bwhprqbs4159v4wd5z0pb2nr0000gn/T//ccy8faE1.s:26     .text.DrunkSerialWrite:0000000000000000 DrunkSerialWrite
/var/folders/3_/bwhprqbs4159v4wd5z0pb2nr0000gn/T//ccy8faE1.s:63     .text.DrunkSerialInterrupt:0000000000000000 $t
/var/folders/3_/bwhprqbs4159v4wd5z0pb2nr0000gn/T//ccy8faE1.s:69     .text.DrunkSerialInterrupt:0000000000000000 DrunkSerialInterrupt
/var/folders/3_/bwhprqbs4159v4wd5z0pb2nr0000gn/T//ccy8faE1.s:87     .text.DrunkSerialInterrupt:0000000000000008 $d
/var/folders/3_/bwhprqbs4159v4wd5z0pb2nr0000gn/T//ccy8faE1.s:92     .text.DrunkSerialRead:0000000000000000 $t
/var/folders/3_/bwhprqbs4159v4wd5z0pb2nr0000gn/T//ccy8faE1.s:98     .text.DrunkSerialRead:0000000000000000 DrunkSerialRead
/var/folders/3_/bwhprqbs4159v4wd5z0pb2nr0000gn/T//ccy8faE1.s:128    .text.DrunkSerialRead:0000000000000014 $d

UNDEFINED SYMBOLS
CDC_Transmit_FS
